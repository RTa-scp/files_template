<html>

<head>
    <script>
        /*jshint esversion: 6*/

        function createportal() {
            (function () {
                if (document.getElementById("createportal")) {
                    let urlparam = window.location.search;
                    console.log(urlparam);
                    if (urlparam) {
                        urlparam = urlparam.substring(1);
                        let params = urlparam.split(/[&=]/);
                        let userid = params[1];
                        let username = params[3].replace(/%20/g, ' ');
                        let initial = username.slice(0, 1);
                        let site = window.location.search.split("site=")[1];

                        document.getElementById("createportal").setAttribute("href", `http://${site}.wikidot.com/portal:${userid}/parentPage/portallist/title/${username}のファイル一覧/#_editpage`);
                    } else {
                        document.getElementById("createportal").innerHTML = "データ取得エラー";
                    }
                } else {
                    return setTimeout(arguments.callee, 1000);
                }
            })();

        }

        window.onload = createportal();
    </script>
    <style>
        @import url("/files/util/common/styles/off-canvas.css");

        body {
            background: transparent;
        }

        #createportal {
            display: block;
            text-align: center;
            font-size: 20px;
        }

        @media (max-width: 479px) {
            #createportal {
                font-size: 17px;
            }
        }
    </style>
</head>

<body>
<a id="createportal" target="_top">ファイル一覧ページを作成</a>
</body>

</html>